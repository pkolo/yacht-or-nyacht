<div class="stats-wrapper">
  <% total_yacht = total_yacht_pct(host) %>
  <% disagreements = all_disagreements(host) %>
  <% dissents = dissent(host) %>

  <div class="host-name"><%= nice_name(host) %></div>
  <div class="page-section">
    <div class="host-stat">Total Yacht Percentage: <%= total_yacht[:pct].round(2) %>% (<%= total_yacht[:count] %> / <%= Song.all.length %>)</div>
    <div class="host-stat">Absolute mean deviation: <%= avg_deviation(host).round(3) %></div>
  </div>

  <div class="row">
    <div class="page-section col-6">
      <div class="section-title">Largest 'Yacht' Dissents:</div>
      <% dissents[:yacht].each do |dissent| %>
        <div class="dissent">
          <%= dissent[:song].artist_list %> - <%= dissent[:song].title %> (<%= dissent[:dissent].round(2) %> pts)
        </div>
      <% end %>
    </div>

    <div class="page-section col-6">
      <div class="section-title">Largest 'Nyacht' Dissents:</div>
      <% dissents[:nyacht].each do |dissent| %>
        <div class="dissent">
          <%= dissent[:song].artist_list %> - <%= dissent[:song].title %> (<%= dissent[:dissent].round(2) %> pts)
        </div>
      <% end %>
    </div>
  </div>

  <div class="page-section">
    <div class="section-title">Largest disagreements:</div>
    <% disagreements.each do |disagreement| %>
      <div class="disagreement">
        <div class="name">vs <%= nice_name(disagreement[:host]) %>:</div>
        <p>Yacht: <%= disagreement[:yacht][:song].artist_list %> - <%= disagreement[:yacht][:song].title %> (<%= disagreement[:yacht][:disagreement] %> pt difference)</p>
        <p>Nyacht: <%= disagreement[:nyacht][:song].artist_list %> - <%= disagreement[:nyacht][:song].title %> (<%= disagreement[:nyacht][:disagreement] %> pt difference)</p>
      </div>
    <% end %>
  </div>

</div>
